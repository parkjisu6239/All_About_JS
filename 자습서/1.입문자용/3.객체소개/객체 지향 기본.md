# 객체 지향 기본

> 모든 내용은 MDN의 JS 문서를 바탕으로 작성되었습니다.



## 객체 지향 프로그램인란?

객체 지향 프로그램, Object Oriented Programming으로 `OOP` 라고 한다. 여기에서는 객체지향의 간단한 개념과 정의를 설명한다. 객체지향프로그래밍의 기본 컨셉은 현실세계를 더 잘 설명하기 위해 객체를 사용해서 모델링하고, 객체를 사용하지 않고 만들기 어려웠던 것들을 보다 쉽고 효율적으로 처리한다는 것에 의의가 있다.



절대 뭔 소린지 모르겠는 설명이다. 다시 말하면 `객체` 는 모델링하고자 하는 일이나 기능 혹은 필요한 행동들의 하나의 묶음으로 정의하는 것이다. 그래서 객체는 일련의 데이터와 함수를 포함하고, 이것들은 특별한 이름으로 `프로퍼티`와 `메서드`라고 한다. 이렇게 여러개의 프로퍼티와 메서드를 하나의 객체에 포함시켜서 묶는걸 `캡슐화` 라고 한다. 그리고 이 묶음의 공간 단위를 `namespace` 혹은 `객체패키지` 라고 한다.



> 주관적인 이해로는, 객체는 변수들을 카테고리화 하고 중복을 줄이는 데 탁월하다. 현실에서 각 개인은 사람이라는 큰 범주로 묶을 수 있다. 그렇게 함으로서 사람이 가지는 특성을 모든 개인이 가진다는 것을 알 수 있고, 사람이 아닌 것과 구별하기도 쉽다. 또 이러한 사람은 동물의 특성을 가지기도 한다. 내가 자기소개할 때 나는 동물이기때문에 숨을 쉽니다~ 부터 설명하지 않는 것은 그것이 자명하기 때문이고, 모두가 그 특성으로 중복적으로 갖고있기 때문이다. 또 같은 방식으로 동물은 생물이라는 범주로 묶일 수 있겠다.
>
> 프로그래밍에서도 이러한 방식을 채택한 것이 객체 지향 프로그래밍이다. 그렇지 않으면 모든 변수를 선언하고 할당할때 내가 동물입니다~ 하는 특성하나하나를 모든 변수에 다 할당해야 할 것이다. 그런데 그렇게 하기 싫으니까 생성자를 만들고 객체를 만들어서 중복을 최소화하고, 다양한 이점을 취하는 것이다.



객체 지향 프로그래밍에는 크게 5가지 성질이 있다. 하나는 위에서 설명한 캡슐화 이고, 나저미 4개는 아래에서 설명할 내용들이다. 간단한 정의를 짚고 가자면 다음과 같다.

- 캡슐화 : 객체에 여러 속성과 메서드를 묶어서 표현할 수 있는 성질로, `private`등을 사용하여 접근 제한이 가능하다.   
- 추상화 : 객체를 나타낼 수 있는 주요한 성질들로 클래스를 정의하는 행위, 정의할 수 있는 성질
- 인스턴스 : 클래스로부터 만들어진 독립적인 객체(클래스에서 정의한 성질을 가지는) 
- 상속 : 부모 클래스의 성질을 자식 클래스가 내려 받아 사용할 수 있는 성질
- 다형성 : 서로 다른 객체에서 같은 이름의 속성(혹은 메서드)을 가질 수 있는 성질



### 추상화, 객체 템플릿 정의

`사람` 을 간단하게 정의하면 어떤 성질을 가질 수 있을까? 간단하게 이름, 나이, 성별, 취미, 인사말 등으로 정의한다고 하자. 내가 이렇게 5개의 성질로 사람의 정의했는데, 이런 과정을 `추상화`  (객체의 중요한 성질을 뽑아 복잡한 것을 보다 단순한 모델로 변환하는 작업) 라고 한다.



### 객체(인스턴스) 생성

아래처럼 Person이라는 클래스를 정의하고, 이를 인스턴스화한 것이 객체(인스턴스 라고 하기도 함)이다. 즉, 인스턴스화는 클래스에서 객체 인스턴스가 생성되는 일련의 과정이다. 

![img](https://mdn.mozillademos.org/files/15163/MDN-Graphics-instantiation-2-fixed.png)



### 상속, 다형성

위에서 만든 `사람` 이라는 클래스로, 좀 더 세분화된 클래스를 만들 수는 없을까? 예를 들어 여기가 학교라면, 사람들 학생과 교사로도 더 나눌 수 있다. 그럼 학생과 교사 클래스를 만들기 위해서, 사람을 만든것 처럼 이름부터 다시 만들어야 할까? 그렇지 않다. 사람 클래스에서 만들어둔 속성과 메서드를 전체 또는 일부 가져다가 쓸 수 있다. 그리고 완전히 그대로 쓰는 것이 아니라 일부 수정하여 쓸 수 있다. 이러한 객체지향의 성질의 상속이라고 한다.



상속은 부모 클래스의 속성과 메서드를 상속받아 새로운 자식 클래스를 만들 수 있게 하는 성질이다.

![img](https://mdn.mozillademos.org/files/13881/MDN-Graphics-inherited-3.png)

그리고 위 이미지를 보면, 학생과 교사 모두 사람을 상속받아 만들어진 자식 클래스이지만, `Greeting` 메서드가 약간 다르다는 것을 알 수 있다. 메서드의 이름은 갖지만 서로 다른 클래스에서 이렇게 내부적으로 다른 동작을 가지는 것이다. 이러한 성질을 `다형성` 이라고 한다. 다시말하면, 다형성은 여러 객체 타입에 같은 기능을 정의할 수 있는 성질이다.



## JS에서의 객체 지향 프로그래밍

### 생성자와 객체 인스턴스

자바스크립트에서 객체와 그 기능을 정의하기 위해 생성자 함수라고 불리는 특별한 함수를 사용한다. (클래스로도 정의할 수 있지만, 그 내용은 다음에 더 자세히 다룰 것이다.) 생성자 함수를 통해서 우리는 여러개의 객체를 쉽고 효율적으로 만들어 낼 수 있다.

생성자로부터 새로운 객체 인스턴스가 생성되면, 객체의 핵심 기능이 프로토타입 체인에 의해 연결된다.



```js
function Person(name) {
  this.name = name;
  this.greeting = function() {
    alert('Hi! I\'m ' + this.name + '.');
  };
}
```

생성자 함수는 일반 함수와 완전히 동일한 모양이다. 조금 다른점이라면, this 키워드를 사용하고 있으며 return 값이 없다는 것이다. 그리고 다른 함수와의 구별을 위해 대문자로 시작하게 한다.



```js
var person1 = new Person('Bob');
var person2 = new Person('Sarah');
```

위에서 정의한 생성자 함수로 부터 객체 인스턴스를 만드는 방법은 다음과 같다. 일반적인 리턴값이 있는 함수를 사용한 변수할당과 유사해보이지만, `new` 라는 키워드를 사용한다. 앞서 정의한 person 함수는 리턴값이 없기 때문에 위 예제에서 new를 빼면 객체가 생성되지 않을 것이다. 그래서 `new` 라는 키워드를 사용하여 리턴값이 없는 생성자 함수로부터 객체인스턴스를 만든다.



```js
person1.name
person1.greeting()
person2.name
person2.greeting()
```

만들어진 객체 인스턴스에서 속성과 메서드에 대한 접근은 다음과 같이 점표현식으로 한다. []로 접근해도 된다.



### 객체 인스턴스를 생성하는 다른 방법들

이전 장(객체 기본)에서 단순히 {}로 객체를 생성하는 방법(객체 리터럴), 그리고 위에서 생성자를 통해서 객체를 생성하는 방법 총2가지를 살펴봤다. 

여기에서는 위에서 소개한 것 말고 다른 방법을 설명한다.



#### Object() 생성자

Object 생성자로 만들어진 객체는 {}으로 할당한 것 처럼 빈객체를 생성한다.

```js
var person1 = new Object();
```

이렇게 생성한 객체는 각 속성과 메서드를 직접 추가해줄 수있다.



아니면 생성할 때부터 속성과 메서드를 포함하게 할 수도 있다.

```js
var person1 = new Object({
  name: 'Chris',
  age: 38,
  greeting: function() {
    alert('Hi! I\'m ' + this.name + '.');
  }
});
```



#### Create() 사용

만약 내가 한두개의 인스턴스만 필요해서 생성자 함수를 정의하고 싶지 않다면? 이 방법을 사용하면 된다. 한번 만들어진 객체의 속성과 메서드를 복붙해서 새로운 객체를 만든다고 생각하면 된다.

```js
var person2 = Object.create(person1);
```

 위 처럼 만들어진 person2 는 person1과 완전히 동일한 내용을 갖게 된다. 이 방법은 생성자를 만들기 원치 않을때도 유용하지만, 그게 아니더라도 완전히 비슷한 객체를 하나 더 만들고 싶을때 사용할 수 있다.

> 적절한 예는 아니겠지만, 쌍둥이를 만들때..?



___

### 요약

- 객체지향프로그래밍 : 기존 절차 지향 프로그램에서 겪은 불편(코드 중복성, 비효율성)을 해결하고, 보다 현실 세계와 비슷한 방식으로 프로그래밍하기 위한 방법론. 데이터와 함수를 하나의 객체로 묶는 방식.
- 객제지향의 주요 성질
  - 캡슐화 : 객체에 여러 속성과 메서드를 묶어서 표현할 수 있는 성질로, `private`등을 사용하여 접근 제한이 가능하다.   
  - 추상화 : 객체를 나타낼 수 있는 주요한 성질들로 클래스를 정의하는 행위, 정의할 수 있는 성질
  - 인스턴스 : 클래스로부터 만들어진 독립적인 객체(클래스에서 정의한 성질을 가지는) 
  - 상속 : 부모 클래스의 성질을 자식 클래스가 내려 받아 사용할 수 있는 성질
  - 다형성 : 서로 다른 객체에서 같은 이름의 속성(혹은 메서드)을 가질 수 있는 성질
- 객체 생성 방법
  - {}, Object()
  - 생성자 함수 정의 -> new
  -  Create()



### 레퍼런스

- [Object-oriented JavaScript for beginners](https://developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/Object-oriented_JS)